const bitcoin = require('bitcoinjs-lib')
const ecc = require('tiny-secp256k1')
const {ECPairFactory} = require('ecpair')

const ECPair = ECPairFactory(ecc)
const TESTNET = bitcoin.networks.testnet;


const keyPair = ECPair.makeRandom({ network: TESTNET });
const { address } = bitcoin.payments.p2pkh({
        pubkey: Buffer.from(keyPair.publicKey),
        network: TESTNET,
});
console.log({address});

///////////////////////////////////////////
const bitcoin = require('bitcoinjs-lib')
const ecc = require('tiny-secp256k1')
const {ECPairFactory} = require('ecpair')

const ECPair = ECPairFactory(ecc)
const TESTNET = bitcoin.networks.testnet;


const keyPair = ECPair.makeRandom({ network: TESTNET });
const { address } = bitcoin.payments.p2pkh({
        pubkey: Buffer.from(keyPair.publicKey),
        network: TESTNET,
});
console.log({address,
key:keyPair.toWIF(),
pubkey: Buffer.from(keyPair.publicKey).toString('hex'),
pubshah: bitcoin.crypto.hash160(keyPair.publicKey).toString('hex')});

